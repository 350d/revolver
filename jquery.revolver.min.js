;(function(f){f.fn.revolver=function(a){return this.each(function(){f.data(this,"revolver")||f.data(this,"revolver",new b(this,a))})};var b=function(a,b){this.options=f.extend(!0,{},this.defaults,b);this.container=f(a);this.slides=this.container.find("."+this.options.slideClass);this.numSlides=this.slides.length;this.currentSlide=0;this.nextSlide=1<this.numSlides?1:0;this.lastSlide=0==this.numSlides?null:this.numSlides-1;this.status={paused:!1,playing:!1,stopped:!0};this.dimensions={height:this.container.height(), width:this.container.width()};if(!(1>=this.numSlides))return this.options.autoPlay&&this.play(),this};b.prototype.defaults={rotationSpeed:4E3,autoPlay:!0,transition:{speed:1E3,type:"fade",direction:"left"},slideClass:"slide"};b.prototype.currentSlide=null;b.prototype.nextSlide=null;b.prototype.numSlides=0;b.prototype.lastSlide=null;b.prototype.container=null;b.prototype.slides=[];b.prototype.iteration=0;b.prototype.intervalId=null;b.prototype.state=null;b.prototype.options=null;b.prototype.dimensions= null;b.prototype.changeStatus=function(a){var b=this;f.each(this.status,function(c){b.status[c]=c==a});return this};b.prototype.transition=function(){this.transitions[this.options.transition.type](this);this.currentSlide=this.nextSlide;this.nextSlide=this.currentSlide==this.lastSlide?0:this.currentSlide+1;this.iteration++};b.prototype.transitions={none:function(a){0===a.iteration&&a.slides.not(":first").hide();a.slides.eq(a.currentSlide).hide();a.slides.eq(a.nextSlide).show();return this},fade:function(a){0=== a.iteration&&a.slides.not(":first").hide();a.slides.eq(a.currentSlide).fadeOut(a.options.transition.speed);a.slides.eq(a.nextSlide).fadeIn(a.options.transition.speed);return this},slide:function(a){var b=a.slides.eq(a.currentSlide),c=a.slides.eq(a.nextSlide),d={},e={};a.slides.eq(a.nextSlide).css("z-index",a.iteration+1);switch(a.options.transition.direction){case "up":d.top=0-b.height();e.top=c.height();break;case "right":d.left=b.width();e.left=0-c.width();break;case "down":d.top=b.height();e.top= 0-c.height();break;case "left":d.left=0-b.width(),e.left=c.width()}b.animate(d,a.options.transition.speed,function(){f(this).hide()});c.show().css(e).animate({top:0,left:0},a.options.transition.speed);return this},halfSlide:function(a){0===a.iteration&&a.slides.not(":first").hide();var b=a.slides.eq(a.currentSlide),c=a.slides.eq(a.nextSlide),d={},e={};a.slides.eq(a.nextSlide).css("z-index",a.iteration+1);switch(a.options.transition.direction){case "up":d.top=0-b.height()/2;e.top=c.height();break; case "right":d.left=b.width()/2;e.left=0-c.width();break;case "down":d.top=b.height()/2;e.top=0-c.height();break;case "left":d.left=0-b.width()/2,e.left=c.width()}b.animate(d,a.options.transition.speed,function(){f(this).hide()});c.show().css(e).animate({top:0,left:0},a.options.transition.speed);return this},reveal:function(a){a.slides.eq(a.nextSlide).css("z-index",a.iteration+1);a.slides.eq(a.nextSlide).css("width",0).animate({width:a.dimensions.width},a.options.transition.speed);return this}};b.prototype.play= function(){if(!this.status.playing)this.changeStatus("playing"),0<this.iteration&&this.transition(),this.intervalId=setInterval(this.transition.bind(this),parseFloat(this.options.rotationSpeed));return this};b.prototype.pause=function(){this.changeStatus("paused");if(null!==this.intervalId)clearInterval(this.intervalId),this.intervalId=null;return this};b.prototype.stop=function(){this.changeStatus("stopped");if(null!==this.intervalId)clearInterval(this.intervalId),this.intervalId=null;return this.reset()}; b.prototype.reset=function(){if(0!=this.currentSlide)this.nextSlide=0;return this};b.prototype.restart=function(){return this.stop().play()};b.prototype.first=function(){return this.goTo(0)};b.prototype.previous=function(){return this.goTo(0==this.currentSlide?this.lastSlide:this.currentSlide-1)};b.prototype.previous=function(){return this.goTo(0==this.currentSlide?this.lastSlide:this.currentSlide-1)};b.prototype.goTo=function(a){if(a==this.currentSlide)return this;this.nextSlide=a;return!this.status.playing? this.transition():this.pause().play()};b.prototype.next=function(){return this.goTo(this.nextSlide)};b.prototype.last=function(){return this.goTo(this.lastSlide)}})(jQuery);