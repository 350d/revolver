;(function(c){var a=function(b,a){this.options=c.extend(!0,{},this.defaults,a);this.container=c(b);this.dimensions={height:this.container.height(),width:this.container.width()};this.slides=this.container.find("."+this.options.slideClass).each(c.proxy(function(){this.addSlide(this)},this));this.numSlides=this.slides.length;this.currentSlide=0;this.nextSlide=1<this.numSlides?1:0;this.lastSlide=0==this.numSlides?null:this.numSlides-1;this.status={paused:!1,playing:!1,stopped:!0};if(!(1>=this.numSlides))return this.container.bind({"transitionStart.revolver":this.options.transition.onStart, "transitionFinish.revolver":this.options.transition.onFinish,"ready.revolver":this.options.onReady,"play.revolver":this.options.onPlay,"stop.revolver":this.options.onStop,"pause.revolver":this.options.onPause,"restart.revolver":this.options.onRestart}),this.container.trigger("ready.revolver"),this.options.autoPlay&&this.play({},!0),this};a.prototype.defaults={rotationSpeed:4E3,autoPlay:!0,transition:{direction:"left",easing:"swing",speed:500,type:"fade",onStart:function(){},onFinish:function(){}}, slideClass:"slide",onReady:function(){},onPlay:function(){},onStop:function(){},onPause:function(){},onRestart:function(){}};a.prototype.currentSlide=null;a.prototype.nextSlide=null;a.prototype.numSlides=0;a.prototype.lastSlide=null;a.prototype.container=null;a.prototype.slides=[];a.prototype.iteration=0;a.prototype.intervalId=null;a.prototype.state=null;a.prototype.options=null;a.prototype.dimensions=null;a.prototype.addSlide=function(b){this.slides.push(b)};a.prototype.changeStatus=function(b){var a= this;c.each(this.status,function(c){a.status[c]=c==b});return this};a.prototype.transition=function(b){b=c.extend(!0,{},this.options.transition,b);doTransition=c.proxy(this.transitions[b.type],this);this.container.trigger("transitionStart.revolver");doTransition(b);this.currentSlide=this.nextSlide;this.nextSlide=this.currentSlide==this.lastSlide?0:this.currentSlide+1;this.iteration++;return this};a.prototype.transitions={none:function(){this.slides.eq(this.currentSlide).hide();this.slides.eq(this.nextSlide).show(); this.container.trigger("transitionFinish.revolver")},fade:function(b){this.slides.eq(this.currentSlide).fadeOut(b.speed);this.slides.eq(this.nextSlide).fadeIn(b.speed,c.proxy(function(){this.container.trigger("transitionFinish.revolver")},this))},slide:function(b){var a=this.slides.eq(this.currentSlide),f=this.slides.eq(this.nextSlide),d={},e={};this.slides.eq(this.nextSlide).css("z-index",this.iteration+1);switch(b.direction){case "up":d.top=0-this.dimensions.height;e.top=this.dimensions.height; break;case "right":d.left=this.dimensions.width;e.left=0-this.dimensions.width;break;case "down":d.top=this.dimensions.height;e.top=0-this.dimensions.height;break;default:d.left=0-this.dimensions.width,e.left=this.dimensions.width}a.animate(d,b.speed,function(){c(this).hide()});f.show().css(e).animate({top:0,left:0},b.speed,c.proxy(function(){this.container.trigger("transitionFinish.revolver")},this))},reveal:function(b){this.slides.eq(this.nextSlide).css({width:0,height:this.dimensions.height,"z-index":this.iteration+ 1}).show().animate({width:this.dimensions.width},b.speed,c.proxy(function(){this.container.trigger("transitionFinish.revolver")},this));return this}};a.prototype.play=function(b,a){if(!this.status.playing)this.changeStatus("playing"),this.container.trigger("play.revolver"),a||this.transition(b),this.intervalId=setInterval(c.proxy(this.transition,this),parseFloat(this.options.rotationSpeed));return this};a.prototype.pause=function(){if(!this.status.paused&&(this.changeStatus("paused"),this.container.trigger("pause.revolver"), null!==this.intervalId))clearInterval(this.intervalId),this.intervalId=null;return this};a.prototype.stop=function(){if(!this.status.stopped&&(this.changeStatus("stopped"),this.container.trigger("stop.revolver"),null!==this.intervalId))clearInterval(this.intervalId),this.intervalId=null;return this.reset()};a.prototype.reset=function(){if(0!=this.currentSlide)this.nextSlide=0;return this};a.prototype.restart=function(b){this.container.trigger("restart.revolver");return this.stop().play(b)};a.prototype.first= function(b){return this.goTo(0,b)};a.prototype.previous=function(b){return this.goTo(0===this.currentSlide?this.lastSlide:this.currentSlide-1,b)};a.prototype.goTo=function(b,a){if(b==this.currentSlide)return this;this.nextSlide=b;return!this.status.playing?this.transition(a):this.pause().play(a)};a.prototype.next=function(a){return this.goTo(this.nextSlide,a)};a.prototype.last=function(a){return this.goTo(this.lastSlide,a)};c.fn.revolver=function(b){return this.each(function(){c.data(this,"revolver")|| c.data(this,"revolver",new a(this,b))})}})(jQuery);